<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-state-component@6.8.0/dist/aframe-state-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm/dist/tf-backend-wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/facemesh"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-supercraft-loader@1.1.3/dist/aframe-supercraft-loader.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script>

    <script>
      AFRAME.registerComponent('a-face', {
        init: function () {
          // Code here.
          console.log(this.el)
        },
        tick: function () {
          const annotations = this.el.getAttribute('annotations')
          this.el.position = annotations.midwayBetweenEyes[0]
          this.el.rotation = annotations.tilt
        },
      })
    </script>
  </head>
  <body>
  <body>
    <a-scene stats>
      <a-assets>
        <a-asset-item id="room" src="./cineroom.gltf"></a-asset-item>
        <script id="face" type="html">
          <a-entity>
            <a-sphere scale="0.1 0.1 0.1" color="#ff0" position="${position}"
            rotation="${rotation}"></a-sphere>
            <a-sphere scale="0.05 0.05 0.05" color="#000"
            position="${lefteyeposition}"></a-sphere>
            <a-sphere scale="0.05 0.05 0.05" color="#000"
            position="${righteyeposition}"></a-sphere>
          </a-entity>
        </script>
      </a-assets>
      <a-entity
        gltf-model="#room"
        position="0 0 -2"
        rotation="0 90 0"
        scale="0.2 0.2 0.2"
      ></a-entity>
      <a-video
        src="#video"
        width="10"
        height="6.6"
        position="-0.5 4.5 -7.5"
      ></a-video>
      <a-sky color="#aabbcc"></a-sky>
      <a-entity id="rig" position="0.3 1.8 1" wasd-controls look-controls>
        <a-entity
          camera="active: true;"
        ></a-entity>
      </a-entity>
    </a-scene>
    <video
      id="video"
      height="200"
      width="200"
      style="position: fixed; bottom: 0; right: 0;"
      autoplay
      muted
    ></video>
    <audio id="surprise" src="/sounds/aha.mp3"></audio>
    <audio id="happy" src="/sounds/laugh.wav"></audio>
    <audio id="interested" src="/sounds/hmm.ogg"></audio>

    <div id="meet"></div>
    <script src="./script.js" type="text/javascript"></script>
    <script src="./src/sounds.js" type="text/javascript"></script>
  </body>
</html>
