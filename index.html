<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm/dist/tf-backend-wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/facemesh"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-supercraft-loader@1.1.3/dist/aframe-supercraft-loader.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
  </head>
  <body>
  <body>
    <a-scene shadow="type: pcfsoft">
      <a-entity light="type: ambient; color: #666"></a-entity>
      <a-entity id="spot1target" rotation="-80 0 0" position="-1 7 0">
        <a-entity light="type: spot; color: #EEF; intensity: 1.0; penumbra: 1.0; castShadow: true; shadowCameraVisible: false; shadowMapWidth: 2048; shadowMapHeight: 2048; shadowBias: -0.001;" position="0 0 0">
        </a-entity>
      </a-entity>

      <a-entity id="first-camera-rig">
          <a-entity id="first-camera" camera look-controls camera="fov: 40" wasd-controls></a-entity>
      </a-entity>

      <a-assets>
        <a-asset-item id="room" src="./cineroom.gltf"></a-asset-item>

        <a-asset-item id="logo" src="./logo.png"></a-asset-item>
        <img id="heart" src="./assets/heart.png">

        <script id="emoji-heart" type="html">
          <a-entity>
            <a-box material="color: transparent; src: #heart" transparent="true"
            depth="0.0001" height="0.25" width="0.25" position="0 1 0" opacity="1" animation="property: position;
            to: 0 2.5 0; dur: 3000; easing: linear; loop: false" animation__2="property:
            opacity; to: 0; dur: 2000; easing: easeInOutQuad; loop:
            false"></a-box>
          </a-entity>
        </script>

        <script id="face" type="html">
          <a-entity>
            <a-entity position="0 0.6 0" class="theneck">
            <a-entity class="themarker" visible="false">
            <a-cone material="color: #48BB78"
            radius-bottom="0.08" width="0.10"
            height="0.10" radius-top="0" position="0 0.45 0"></a-cone>
            <a-cone material="color: #48BB78"
            radius-bottom="0.08" width="0.10"
            height="0.10" radius-top="0"
            rotation="0 0 -180" position="0 0.35 0"></a-cone>
            </a-entity>
              <a-sphere scale="0.2 0.2 0.2" position="0 0 0" color="#F6E05E" class="thehead" shadow segments-height="15" segments-width="15">
                <a-box
                  class="leftEyebrow"
                  height="0.10"
                  width="0.35"
                  depth="0.10"
                  position="-0.25 0.5 -0.8"
                  color="#000"
                ></a-box>
                <a-sphere scale="0.2 0.2 0.2" position="-0.25 0.2 -0.89" color="#fff" segments-height="8" segments-width="8">
                  <a-sphere scale="0.4 0.4 0.4" position="0 0 -0.8" color="#333" segments-height="8" segments-width="8"></a-sphere>
                </a-sphere>
                <a-box
                  class="rightEyebrow"
                  height="0.10"
                  width="0.35"
                  depth="0.10"
                  position="0.25 0.5 -0.8"
                  color="#000"
                ></a-box>
                <a-sphere scale="0.2 0.2 0.2" color="#fff" position="0.25 0.2 -0.89" segments-height="8" segments-width="8">
                  <a-sphere scale="0.4 0.4 0.4" position="0 0 -0.8" color="#333" segments-height="8" segments-width="8"></a-sphere>
                </a-sphere>
                <a-sphere
                  class="mouth"
                  scale="0.75 0.25 0.25"
                  color="#000"
                  position="0 -0.3 -0.8"
                  segments-height="8"
                  segments-width="8"
                ></a-sphere>
              </a-sphere>
            </a-entity>
            <a-sphere
              class="seat"
              scale="0.3 0.02 0.3"
              color="#000000"
              position="0 0 0"
              transparency="true"
              opacity="0.1"
              segments-height="8"
              segments-width="8"
            ></a-sphere>
          </a-entity>
        </script>
      </a-assets>
      <a-entity
        gltf-model="#room"
        position="0 0 -2"
        rotation="0 90 0"
        scale="0.2 0.2 0.2"
        shadow
      ></a-entity>
      <a-box position="-5.8 0.3 -7.2" material="src: logo.png; roughness: 1; metalness: 0" shadow></a-box>
      <a-box position="4.0 0.1 -7.2" height="0.5" material="src: iteam.jpg; repeat: 1 2; roughness: 1; metalness: 0" shadow></a-box>
      <a-box position="4.0 0.6 -7.2" height="0.5" material="src: influera.jpg; repeat: 1 1; roughness: 1; metalness: 0" shadow></a-box>
      <a-sky color="#000"></a-sky>
      <a-entity id="camera-first" position="0.3 1.8 1" wasd-controls
        look-controls camera="active: true">
        <a-entity camera></a-entity>
      </a-entity>

       <a-entity id="camera-audience" position="-2.3 1.7 -6" rotation="-10 180 0">
        <a-entity class="camera" camera="active: false" look-controls
          wasd-controls></a-entity>
      </a-entity> 

       <a-entity id="camera-presentation" position="-1.6 2.3 3">
        <a-entity class="camera" camera="active: false" look-controls></a-entity>
      </a-entity> 
    </a-scene>

    <button id="camera-toggle" class="btn btn--camera-toggle"
      data-state="audience">
      <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 9.25C10.4609 9.25 12.5 7.24609 12.5 4.75C12.5 2.28906 10.4609 0.25 8 0.25C5.50391 0.25 3.5 2.28906 3.5 4.75C3.5 7.24609 5.50391 9.25 8 9.25ZM11.1289 10.375H10.5312C9.75781 10.7617 8.91406 10.9375 8 10.9375C7.08594 10.9375 6.20703 10.7617 5.43359 10.375H4.83594C2.23438 10.375 0.125 12.5195 0.125 15.1211V16.5625C0.125 17.5117 0.863281 18.25 1.8125 18.25H14.1875C15.1016 18.25 15.875 17.5117 15.875 16.5625V15.1211C15.875 12.5195 13.7305 10.375 11.1289 10.375Z" fill="currentColor"/>
</svg>
    </button>

    <button id="btn-emoji" class="btn btn--emoji" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" height="20"
      width="20" viewBox="0 0
        20 20"><path d="M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10
        18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z" fill="currentColor"/></svg></button>

    <video
      id="video"
      height="200"
      width="200"
      style="position: fixed; bottom: 0; right: 0;"
      autoplay
      muted
    ></video>
    <audio id="surprise" src="/sounds/aha.mp3"></audio>
    <audio id="happy" src="/sounds/laugh.wav"></audio>
    <audio id="interested" src="/sounds/hmm.ogg"></audio>

    <div id="controls">
      <!-- <button onclick="document.querySelector('#second-camera').setAttribute('camera', 'active', true)">Scenkamera</button> -->

    </div>
    <script src="./src/script.js" type="text/javascript"></script>
    <script src="./src/sounds.js" type="text/javascript"></script>
    <script src="./src/components/face.js" type="text/javascript"></script>
  </body>
</html>
